# Systemverilog Template

This project template is designed to streamline the development of SystemVerilog projects using
Verilator, GTKWave, and Make. The template includes a Makefile with various recipes for compiling,
simulating, and visualizing the design. It also includes a directory structure for organizing the
HDL files, test benches, and simulation waveforms.

---

<!--toc:start-->
- [Systemverilog Template](#systemverilog-template)
  - [To-Do](#to-do)
  - [Before to use](#before-to-use)
    - [Archlinux](#archlinux)
    - [Ubuntu](#ubuntu)
    - [Last review](#last-review)
  - [How to use it?](#how-to-use-it)
    - [Quick use](#quick-use)
    - [Make targets](#make-targets)
  - [References](#references)
<!--toc:end-->

---

## To-Do
1. [-] Improve documentation.
2. [ ] Implement `cmake` for compile output.
3. [ ] Improve `quartus-tools` for synthesize.
    - Review `quartus_map` flags &amp; document it.
    - Review `global-assigments`
    - Create `qsf` file for synthesis.
    - Modified `Makefile` to use `quartus-pgm` tool (load the design on the board).
4. [ ] Complement the information and use of `yosys`.
5. [ ] Integrate `Xilinx` tools (on-hold)

## Before to use

First you be sure that you have installed the following dependencies:
- [Verilator][2]
- [GTKWave][3]
- [Quartus Prime Lite][5]
- [Yosys][6]
- [GNU Make][7]
- Any text editor of your choice

### Archlinux

On `Archlinux` you can install dependencies using a package manager as [paru][10], [yay][11] or
[pamac][12]. For the last version this template all dependencies have been installed using `paru`:

```bash
paru -S varilator gtkwave quartus-free yosys make arrow-usb-blaster
```


### Ubuntu

Install dependencies using from the software sources or the software center.

```bash
sudo apt-get install verilator gtkwave yosys build-essential
```

For install `quartus-prime` you need to download the package from [quartus for linux][13] and
install [compile it][14]

> [!TIP]
> Sometimes verilator does not work properly, for solve this try to reinstall package, to be sure
> that verilator is working properly run `verilator --help` on command line and compeer the output
> with [verilator output](./docs/verilator_output.md)

### Last review

The most recent revision of this project was completed using the following tools and their
respective versions:

* Linux Operating System: ` Manjaro Linux x86_64 kernel: 6.6.52-1-MANJARO`
* [Verilator][1]: `Version 5.028`
* [GTKWave][3] : `Version v3.3.120`
* [Quartus Prime Lite][5] : `Version 23.1`
* [Yosys][6] : `Version 0.43`
* [GNU Make][7] : `Version 4.4.1`
* The text editor : [Neovim][9] `v0.10.1`


## How to use it?

### Quick use

1. Verilate your project: `make all` or `make`
2. Build and run the simulation: `make run`
3. Once that you confirm the simulation works as you expected synthesize you project: `make qrtl`

### Make targets

The `Makefile` includes the following targets:

- `make`       : Check for errors in the codes, and start the verilating process as well as
    look for errors in the test bench.
- `make run`   : Creates the executable, runs the simulation and displays the generated waves in
    GTKWave.
- `make synth` : Synthesis and analysis with Intel® tools.
- `make net`   : Generar Netlist con herramientas Intel®.
- `make view`  : Open RTLViewer by Intel® to view the schematic diagram.
- `make qrtl`  : Do Analysis and Synthesis, Generate Netlist, and open the RTLViewer, all with
    Intel tools.
- `make ys`    : Create simple RTL deagram with Yosys tool.
- `make clean` : Deletes all files generated by Verilator & Intel tools and by the executable.
- `make help`  : Show a short description of the commands

## References
* [Verilator][1]
* [GTKWave][2]
* [GNU Make][4]
* [Quartus Prime Lite][5]
* [Yosys][6]
* [GNU Make][7]
* [Neovim][9]

<!--### References-->
[1]: https://verilator.org/guide/latest/overview.html "Verilator"
[2]: https://verilator.org/guide/latest/install.html "Verilator Installation"
[3]: https://github.com/gtkwave/gtkwave "GTKWave"
[4]: https://www.gnu.org/software/make/ "GNU Make"
[5]: https://www.intel.com/content/www/us/en/software-kit/785085/intel-quartus-prime-lite-edition-design-software-version-22-1-2-for-linux.html? "Quartus Prime Lite"
[6]: https://github.com/YosysHQ/yosys "Yosys"
[7]: https://www.gnu.org/software/make/ "GNU Make"
[8]: https://ftp.gnu.org/gnu/make/ "GNU Make Installation"
[9]: https://github.com/neovim/neovim "neovim"
[10]: https://github.com/Morganamilo/paru "Paru"
[11]: https://github.com/Jguer/yay "Yay"
[12]: https://wiki.manjaro.org/index.php/Pamac "Pamac"
[13]: https://www.intel.com/content/www/us/en/software-kit/661017/intel-quartus-prime-lite-edition-design-software-version-20-1-for-linux.html "quartus-linux"
[14]: https://askubuntu.com/questions/25961/how-do-i-install-a-tar-gz-or-tar-bz2-file "ubuntu package"
